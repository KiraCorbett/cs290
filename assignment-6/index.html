<!DOCTYPE html>

<title>Molly Rankin's Jeopardy</title>

<head>
  <link href="css/stylesheet.css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans" rel="stylesheet">
</head>

<script>

  var boxes = $('.choice-checked:checked');

  $(document).ready(function(event) {
      
    // HTML Column
    /*global $*/
    var colOne100q;
    var colOne100a;
    var colOne200q;
    var colOne200a;
    var colOne300q;
    var colOne300a;
    var colOne400q;
    var colOne400a;
    var colOne500q;
    var colOne500a;
    
    // CSS Column
    var colTwo100q;
    var colTwo100a;
    var colTwo200q;
    var colTwo200a;
    var colTwo300q;
    var colTwo300a;
    var colTwo400q;
    var colTwo400a;
    var colTwo500q;
    var colTwo500a;
    
    // JAVA Column

    $("#login-button").click(function() {
      window.location.replace("login.html");
    });

    $("#game-back").click(function() {
      $(".screen-two").hide();
      $(".screen-one").show();
    })

    $("#team-two-name").focusout(function() {
      if ($("#team-one-name").val() == "") {
        $("#team-one-name").val($(this).val());
        $(this).val("");
      }
    });

    $("#team-three-name").focusout(function() {
      if ($("#team-one-name").val() == "") {
        $("#team-one-name").val($(this).val());
        $(this).val("");
      } else if ($("#team-two-name").val() == "") {
        $("#team-two-name").val($(this).val());
        $(this).val("");
      }
    });

    $("#team-four-name").focusout(function() {
      if ($("#team-one-name").val() == "") {
        $("#team-one-name").val($(this).val());
        $(this).val("");
      } else if ($("#team-two-name").val() == "") {
        $("#team-two-name").val($(this).val());
        $(this).val("");
      } else if ($("#team-three-name").val() == "") {
        $("#team-three-name").val($(this).val());
        $(this).val("");
      }
    });

    $('#categories :checkbox').change(function () {
      if ($(this).is(':checked')) {
        console.log($(this).val() + ' is now checked');
        } else {
          console.log($(this).val() + ' is now unchecked');
        }
    });

  // loads checkbox choices and text fields when NEXT clicked
    $("#next-button").click(function(){
      var boxes = [];
      $("#categories").each($("input[name='choice-checked']:checked"), function(){
        boxes.push($(this).val());
        alert($(this).val());
      });
      var teamNameArgsValid = $("#team-one-name").val() != "" && $("#team-two-name").val() != "";

    if (teamNameArgsValid) {
      $("#team-list").empty();
      $("#team-list").append("<p id = 'team-one'>" + $("#team-one-name").val() + ": 0</p>");
      $("#team-list").append("<p id = 'team-two'>" + $("#team-two-name").val() + ": 0</p>");
      $(".screen-three").show();
      $("#question-team-list").empty();
      $("#question-team-list").append("<div id = 'question-team-one'><p>" + $("#team-one-name").val() + "</p>");
      $("#question-team-list").append("<div id = 'question-team-two'><p>" + $("#team-two-name").val() + "</p>");

      if ($("#team-three-name").val() != "") {
        $("#team-list").append("<p id = 'team-three'>" + $("#team-three-name").val() + ": 0</p>");
        $("#question-team-list").append("<div id = 'question-team-three'><p>" + $("#team-three-name").val() + "</p>");
      }
      if ($("#team-four-name").val() != "") {
        $("#team-list").append("<p id = 'team-four'>" + $("#team-four-name").val() + ": 0</p>");
        $("#question-team-list").append("<div id = 'question-team-four'><p>" + $("#team-four-name").val() + "</p>");
      }

      $(".screen-one").hide();
      $(".screen-two").show();
    }
  });

  $("#close-question").click(function() {
    $(this).parent().hide();
  });

  $(document).keyup(function(e) {
    if (e.keyCode == 27) {
      $(".screen-three").hide();
    }
  });

   $("#test").click(function(){
     $(".screen-three").show();
   });

   $("#test-button").click(function() {
      $.ajax({
        url: "/getCategory?name=HTML",
        success: function(result) {
            colOne100q = result['100q'];
            colOne100a = result['100a'];
            colOne200q = result['200q'];
            colOne200a = result['200a'];
            colOne300q = result['300q'];
            colOne300a = result['300a'];
            colOne400q = result['400q'];
            colOne400a = result['400a'];
            colOne500q = result['500q'];
            colOne500a = result['500a'];
        },
        error: function(xhr) {
            console.log("An error occurred: " + xhr.status + " " + xhr.statusText);
        }
      });
      $.ajax({
        url: "/getCategory?name=CSS",
        success: function(result) {
            colTwo100q = result['100q'];
            colTwo100a = result['100a'];
        },
        error: function(xhr) {
            console.log("An error occurred: " + xhr.status + " " + xhr.statusText);
        }
    });
   });

    $("#colOne100").click(function() {
       $("#question").text(colOne100q);
       $("#answer").text(colOne100a);
       $(".screen-three").show();
    });
    
    $("#colOne200").click(function() {
       $("#question").text(colOne200q);
       $("#answer").text(colOne200a);
       $(".screen-three").show();
    });
    
    $("#colOne300").click(function() {
       $("#question").text(colOne300q);
       $("#answer").text(colOne300a);
       $(".screen-three").show();
    });
    
    $("#colOne400").click(function() {
       $("#question").text(colOne400q);
       $("#answer").text(colOne400a);
       $(".screen-three").show();
    });
    
    $("#colOne500").click(function() {
       $("#question").text(colOne500q);
       $("#answer").text(colOne500a);
       $(".screen-three").show();
    });
    
    $("#colTwo100").click(function() {
      $("#question").text(colTwo100q);
      $("#answer").text(colTwo100a);
      $(".screen-three").show();
    });

  });
</script>

<body>
  <div class = "screen-one">
      <button id = "test-button" type = "button">Test</button>
    <button id = "login-button" type = "button"> Login </button>
    <h1>Welcome to Molly Rankin's Jeopardy!</h1>
    <div id = "screen-one-table">
      <table>
        <tr>
          <th colspan="6">Select Five Categories</th>
        </tr>

        <tr id = "categories">
          <td><input id="html-checked" type="checkbox" name="html-checked" value="html-checked"/> HTML</td>
          <td><input id="css-checked" type="checkbox" name="css-checked" value="css-checked"/> CSS</td>
          <td><input id="jscript-checked" type="checkbox" name="jscript-checked" value="jscript-checked"/> JavaScript</td>
          <td><input id="jquery-checked" type="checkbox" name="jquery-checked" value="jquery-checked"/> JQuery</td>
          <td><input id="node-checked" type="checkbox" name="node-checked" value="node-checked"/> NodeJS</td>
          <td><input id="mong-checked" type="checkbox" name="mongo-checked" value="mongo-checked"/> Mongo</td>
        </tr>
        <tr>
          <th colspan="6">Enter up to Four Team Names (Min. 2)</th>
        </tr>
        <tr>
          <td colspan="6">Team 1:  <input type="text" name="team" value="" id = "team-one-name"></td>
        </tr>
        <tr>
          <td colspan="6">Team 2:  <input type="text" name="team" value="" id = "team-two-name"></td>
        </tr>
        <tr>
          <td colspan="6">Team 3:  <input type="text" name="team" value="" id = "team-three-name"></td>
        </tr>
        <tr>
          <td colspan="6">Team 4:  <input type="text" name="team" value="" id = "team-four-name"></td>
        </tr>
        <!--<tr id="button-row">
        <td colspan="6"><button type="button" id="next-button" onclick="alert('This is a Test!')">NEXT >></button></td>
      </tr>-->
    </table>
  </div>
  <div>
    <button type="button" id="next-button">NEXT >></button>
  </div>
</div>

<div class = "screen-two">
  <button id = "game-back" style = "button"> << BACK </button>
  <div id = "screen-two-table">
    <table>
          <tr>
            <th>HTML</th>
            <th>CSS</th>
            <th>JAVASCRIPT</th>
            <th>JQUERY</th>
            <th>NODE</th>
          </tr>
            <td id = "colOne100" style = "color: red">100</td>
            <td id = "colTwo100">100</td>
            <td>100</td>
            <td>100</td>
            <td>100</td>
          <tr>
            <td id = "colOne200">200</td>
            <td>200</td>
            <td>200</td>
            <td>200</td>
            <td>200</td>
          </tr>
          <tr>
            <td id = "colOne300">300</td>
            <td>300</td>
            <td>300</td>
            <td>300</td>
            <td>300</td>
          </tr>
          <tr>
            <td id = "colOne400">400</td>
            <td>400</td>
            <td>400</td>
            <td>400</td>
            <td>400</td>
          </tr>
          <tr>
            <td id = "colOne500">500</td>
            <td>500</td>
            <td>500</td>
            <td>500</td>
            <td>500</td>
          </tr>
        </table>
  </div>
  <div id = "team-list">
    <p id = "team-one">Team 1: 0</p>
    <p id = "team-two">Team 2: 0</p>
    <p id = "team-three">Team 3: 0</p>
    <p id = "team-four">Team 4: 0</p>
  </div>
</div>

<div class = "screen-three" style = "display: none;">

  <button id = "close-question" type="button"> X </button>
  <p id = "question">AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</p>
  <span>Answer</span>
  <div id = "answer-block"><p id = "answer">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p></div>
  <div id = "question-team-list">
    <div id = "question-team-one"><p>Team 1</p></div>
    <div id = "question-team-two"><p>Team 2</p></div>
    <div id = "question-team-three"><p>Team 3</p></div>
    <div id = "question-team-four"><p>Team 4</p></div>
  </div>
</div>

<div class = "screen-five" style = "display: none;">
  <select>
    <option value = "HTML">HTML</option>
    <option value = "CSS">CSS</option>
    <option value = "JavaScript">JavaScript</option>
    <option value = "JQuery">JQuery</option>
    <option value = "NodeJS">NodeJS</option>
    <option value = "Mongo">Mongo</option>
  </select>
  <select>
    <option value = "100">100</option>
    <option value = "200">200</option>
    <option value = "300">300</option>
    <option value = "400">400</option>
    <option value = "500">500</option>
  </select>
  <p>Question: </p><textarea rows = "10" cols = "50"></textarea>
  <p>Answer: </p><textarea rows = "10" cols = "50"></textarea>
</div>

</body>

</html>
